CREATE DATABASE cafeteriaDB;
CREATE TABLE users (
  id INT AUTO_INCREMENT PRIMARY KEY,
  username VARCHAR(255) NOT NULL,
  email VARCHAR(255) NOT NULL,
  password VARCHAR(255) NOT NULL,
  role ENUM('user', 'admin') DEFAULT 'user'
);

CREATE TABLE items (
  id INT AUTO_INCREMENT PRIMARY KEY,
  name VARCHAR(255) NOT NULL,
  description TEXT,
  price DECIMAL(10,2),
  stock INT,
  image_url VARCHAR(255)
);

CREATE TABLE orders (
  id INT AUTO_INCREMENT PRIMARY KEY,
  user_id INT,
  item_id INT,
  quantity INT,
  status ENUM('pending', 'confirmed', 'canceled', 'delivered') DEFAULT 'pending',
  order_date DATETIME DEFAULT CURRENT_TIMESTAMP,
  FOREIGN KEY (user_id) REFERENCES users(id),
  FOREIGN KEY (item_id) REFERENCES items(id)
);

--------------------------------------------------------------
Queries

-- ğŸ‘¤ Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
-- SELECT * FROM users;

-- â• Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯
-- INSERT INTO users (username, email, password) VALUES (?, ?, ?);

-- âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø³ØªØ®Ø¯Ù…
-- UPDATE users SET username = ?, email = ? WHERE id = ?;

-- âŒ Ø­Ø°Ù Ù…Ø³ØªØ®Ø¯Ù…
-- DELETE FROM users WHERE id = ?;

-- ğŸ“¦ Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª
-- SELECT * FROM items;

-- â• Ø¥Ø¶Ø§ÙØ© Ù…Ù†ØªØ¬ Ø¬Ø¯ÙŠØ¯
-- INSERT INTO items (name, description, price, stock, image_url) VALUES (?, ?, ?, ?, ?);

-- âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù†ØªØ¬
-- UPDATE items SET name = ?, price = ?, stock = ? WHERE id = ?;

-- âŒ Ø­Ø°Ù Ù…Ù†ØªØ¬
-- DELETE FROM items WHERE id = ?;


-- ğŸ‘ï¸â€ğŸ—¨ï¸ Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ø£ÙˆØ±Ø¯Ø±Ø§Øª Ù„ÙƒÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† (Ù„Ù„Ø£Ø¯Ù…Ù†)
-- SELECT * FROM orders;

-- ğŸ§¾ Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ø£ÙˆØ±Ø¯Ø±Ø§Øª Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¹ÙŠÙ†
-- SELECT * FROM orders WHERE user_id = ?;

-- ğŸ•“ Ø¹Ø±Ø¶ Ø§Ù„Ø£ÙˆØ±Ø¯Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ (pending) Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¹ÙŠÙ†
-- SELECT * FROM orders WHERE user_id = ? AND status = 'pending';

-- â• Ø¥Ø¶Ø§ÙØ© Ø£ÙˆØ±Ø¯Ø± Ø¬Ø¯ÙŠØ¯ Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¹ÙŠÙ†
-- INSERT INTO orders (user_id, item_id, quantity) VALUES (?, ?, ?);

-- âœï¸ ØªØ¹Ø¯ÙŠÙ„ Ø­Ø§Ù„Ø© Ø£ÙˆØ±Ø¯Ø± Ù…Ø¹ÙŠÙ† Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¹ÙŠÙ†
-- UPDATE orders SET status = ? WHERE id = ? AND user_id = ?;

-- âŒ Ø­Ø°Ù Ø£ÙˆØ±Ø¯Ø± Ù…Ø¹ÙŠÙ† Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¹ÙŠÙ†
-- DELETE FROM orders WHERE id = ? AND user_id = ?;

